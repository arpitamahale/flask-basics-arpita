{% extends "base.html" %}

{% block title %}Projects with {{ skill }} | {{ info.name }}{% endblock %}

{% block content %}
<div class="card">
    <h2>Projects using {{ skill }}</h2>
    <p>Here are the projects where I've used {{ skill }}.</p>
</div>

<!-- Projects Grid -->
<div class="projects-grid">
    {% for project in projects %}
    <div class="project-card">
        <h3>{{ project.name }}</h3>
        <p>{{ project.description }}</p>

        <!-- Tech tags using a nested loop -->
        <div class="tech-tags">
            {% for tech in project.tech %}
                <span class="tech-tag">{{ tech }}</span>
            {% endfor %}
        </div>

        <!-- Status badge with conditional styling -->
        {% if project.status == 'Completed' %}
            <span class="status status-completed">{{ project.status }}</span>
        {% elif project.status == 'In Progress' %}
            <span class="status status-in-progress">{{ project.status }}</span>
        {% else %}
            <span class="status status-planned">{{ project.status }}</span>
        {% endif %}

        <div style="margin-top: 15px;">
            <a href="{{ url_for('project_detail', project_id=project.id) }}" class="btn btn-primary">
                View Details
            </a>
        </div>
    </div>
    {% else %}
    <div class="card">
        <p>No projects found for this skill.</p>
    </div>
    {% endfor %}
</div>
{% endblock %}
